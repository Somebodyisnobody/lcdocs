<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="../../../clonk.xsl"?>
<clonkDoc xmlns="https://clonkspot.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://clonkspot.org ../../../clonk.xsd" xml:lang="de">
	<func>
		<title>SetObjectBlitMode</title>
		<category>Objekte/Darstellung</category>
		<versions><version>4.9.5.0 CE</version><extversion>4.9.6.0 CR</extversion></versions>
		<syntax>
			<rtype>int</rtype>
			<params>
				<param><type>int</type><name>dwNewBlitMod</name><desc>Neuer Zeichenmodus (mögliche Werte siehe unten) - bei 0 wird das Objekt auf seinen Definitions-Blitmodus zurückgesetzt. Ansonsten wird Bit 8 (benutzerdefinierter Farbwert) implizit gesetzt.</desc><optional /></param>
				<param><type>object</type><name>pObj</name><desc>Objekt, dessen Zeichenstil geändert werden soll. 0 bei lokalem Aufruf.</desc><optional /></param>
				<param><type>int</type><name>iOverlayID</name><desc>Wenn angegeben, wird stattdessen der Blitmodus dieses Grafikoverlays gesetzt. Das Overlay muss vorher mit <funcLink>SetGraphics</funcLink> erstellt worden sein. Ab CR.</desc><optional /></param>
			</params>
		</syntax>
		<desc>Ändert den Zeichenmodus für eine Objekts. Die möglichen Werte entsprechen denen des DefCore-Flags BlitMode (siehe Anmerkung). Die Funktion gibt jeweils den vorher gesetzten Blitmodus zurück.</desc>
		<remark>Der Blitmodus beeinflusst keine zusätzlichen Overlay-Grafiken. Die Blitmodi dieser müssen jeweils in <funcLink>SetGraphics</funcLink> gesetzt werden.</remark>
		<remark><table activateBitmask="false" bitmaskName=""><rowh><col>Konstante</col><col>Wert</col><col>Bedeutung</col></rowh>
		<row><col>GFX_BLIT_Additive</col><col>1</col><col>Additiv (Immer Basissurface und Overlay)</col></row>
		<row><col>GFX_BLIT_Mod2</col><col>2</col><col>Additive Modulation: Die Farbe des Modulationswertes wird zur jeweiligen Objektfarbe hinzuaddiert, und anschließend RGB(128,128,128) abgezogen. Nur Basisgrafik.</col></row>
		<row><col>GFX_BLIT_ClrSfc_OwnClr</col><col>4</col><col>Die über <funcLink>SetClrModulation</funcLink>() gesetzte Farbmodulation gilt nur für die Basisgrafik, und das Overlay wird weiterhin nach Besitzerfarbe (siehe <funcLink>SetColorDw</funcLink>())gefärbt.</col></row>
		<row><col>GFX_BLIT_ClrSfc_Mod2</col><col>8</col><col>Die Besitzergrafik (Overlay) wird mit additiver Modulation gezeichnet. Dieses Flag muss gegebenenfalls unabhängig von Bit 2 gesetzt werden.</col></row>
		<row><col>5-7</col><col>16, 32, 64</col><col>reserviert</col></row>
		<row><col>GFX_BLIT_Custom</col><col>128</col><col>Benutzerdefinierter Farbwert. Dieser Wert kann angegeben werden, wenn kein spezieller Farbmodus gewünscht ist, und damit eine DefCore-Einstellung überschrieben werden soll. Außerdem ist dieses Bit im Rückgabewert dieser Funktion und von <funcLink>GetObjectBlitMode</funcLink>() gesetzt, wenn der Blitmodus des Objekts nicht dem Definitionswert entspricht.</col></row>
		<row><col>GFX_BLIT_Parent</col><col>256</col><col>Nur für Overlays: Es wird der Blitmodus verwendet, den auch das Basisobjekt benutzt, auf das dieses Overlay gezeichnet wird. Ab CR.</col></row>
		</table></remark>

		<examples>
			<example>
<code>static g_pCursor, g_dwPrevBlitMode, g_dwPrevMod;

protected func Script100()
  {
  // Ausgewählten Clonk des ersten Spielers ermitteln
  g_pCursor = <funcLink>GetCursor</funcLink>();
  // Vorherige Werte speichern
  g_dwPrevBlitMode = <funcLink>GetObjectBlitMode</funcLink>(g_pCursor);
  g_dwPrevMod = <funcLink>GetClrModulation</funcLink>(g_pCursor);
  // Nicht-ColorByOwner-Teile des Clonks leuchtend grün färben
  SetObjectBlitMode(6, g_pCursor);
  <funcLink>SetClrModulation</funcLink>(<funcLink>RGB</funcLink>(100, 255, 110), g_pCursor);
  // Nachricht
  <funcLink>Message</funcLink>("Schau her, ich kann leuchten!", g_pCursor);
  return(1);
  }

protected func Script200()
  {
  // Farbe zurücksetzen
  SetObjectBlitMode(g_dwPrevBlitMode, g_pCursor);
  <funcLink>SetClrModulation</funcLink>(g_dwPrevMod, g_pCursor);
  // Nachricht
  <funcLink>Message</funcLink>("Schon vorbei :\", g_pCursor);
  <funcLink>return</funcLink>(1);
  }</code>
				<text>Teil eines Szenarioscripts: Färbt den ausgewählten Clonk des ersten Spielers für eine Weile teilweise leuchtend grün.<br />
				Für einen solchen Effekt in aufwändigeren Szenarien oder in allgemein verwendbaren Objekten sollte an solcher Stelle natürlich ein <emLink href="script/Effects.html">Effekt</emLink> verwendet werden, um beispielsweise Komplikationen mit verfärbenden Zaubern zu vermeiden.</text>
			</example>
		</examples>
		<related>
			<funcLink>SetClrModulation</funcLink>
			<funcLink>GetObjectBlitMode</funcLink>
		</related>
	</func>
	<author>Sven2</author><date>2004-03</date>
</clonkDoc>
