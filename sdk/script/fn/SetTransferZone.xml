<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="../../../clonk.xsl"?>
<clonkDoc xmlns="https://clonkspot.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://clonkspot.org ../../../clonk.xsd" xml:lang="de">
  <func isAsync="false">
    <title>SetTransferZone</title>
    <category>Objekte/Status</category>
    <versions><version>4.6.5.0 CP</version></versions>
    <syntax>
      <rtype isReference="false">bool</rtype>
      <params>
        <param isReference="false" isOptional="false"><type>int</type><name>iX</name><desc>X-Position der oberen linken Ecke der neuen Transferzone; relativ zum Objektmittelpunkt</desc></param>
        <param isReference="false" isOptional="false"><type>int</type><name>iY</name><desc>Y-Position der oberen linken Ecke der neuen Transferzone; relativ zum Objektmittelpunkt</desc></param>
        <param isReference="false" isOptional="false"><type>int</type><name>iWdt</name><desc>Breite der neuen Transferzone</desc></param>
        <param isReference="false" isOptional="false"><type>int</type><name>iHgt</name><desc>Höhe der neuen Transferzone</desc></param>
        <param isReference="false" isOptional="true"><type>object</type><name>pObj</name><desc>Objekt, dessen Transferzone geändert werden soll. 0 bei lokalem Aufruf.</desc></param>
      </params>
    </syntax>
    <desc>Setzt einen neuen Transferbereich für ein Objekt. Führt die Suche der Wegfindung durch einen Transferbereich (dieser gilt für die Wegfindung immer als komplett durchlaufbar), werden für den Clonk ControlTransfer-Aufrufe an das Script des Objekts aufgerufen. In diesen sollte mit Hilfe von Befehlen dafür gesorgt werden, dass der Clonk an seine Zielposition kommt.</desc>
    <remark>Transferzonen müssen neu gesetzt werden, wenn sich das Objekt bewegt. Außerdem sollten sie immer als Antwort auf einen UpdateTransferZone-Callback der Engine neu gesetzt werden.</remark>
    <examples>
      <example>
<code>protected func Initialize() { <funcLink>return</funcLink>(UpdateTransferZone()); }

protected func UpdateTransferZone() { <funcLink>return</funcLink>(SetTransferZone(-<funcLink>GetX</funcLink>(), -<funcLink>GetY</funcLink>(), <funcLink>LandscapeWidth</funcLink>(), <funcLink>LandscapeHeight</funcLink>()));

protected func ControlTransfer(pClonk, iToX, iToY)
  {
  <funcLink>SetPosition</funcLink>(iToX, iToY, pClonk);
  <funcLink>return</funcLink>(1);
  }</code>
        <text>Script für ein Cheatobjekt: Ein Spieler, der mit der Maussteuerung an ein Ziel klickt, wird sofort dorthin versetzt.</text>
      </example>
    </examples>
  </func>
  <author>Sven2</author><date>2003-06</date>
</clonkDoc>
