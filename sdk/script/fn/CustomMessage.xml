<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="../../../clonk.xsl"?>
<clonkDoc xmlns="https://clonkspot.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://clonkspot.org ../../../clonk.xsd" xml:lang="de">
    <func isAsync="false">
        <title>CustomMessage</title>
        <category>Nachrichten</category>
        <versions>
            <version>4.9.6.0 CR</version>
        </versions>
        <syntax>
            <rtype isReference="false">bool</rtype>
            <params>
                <param isReference="false" isOptional="false">
                    <type>string</type>
                    <name>message</name>
                    <desc>Nachricht, die ausgegeben wird.</desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>object</type>
                    <name>obj</name>
                    <desc>Wenn ungleich 0, wird die Nachricht über dem angegebenen Objekt ausgegeben.</desc>
                </param>
                <param isReference="false" isOptional="false">
                    <type>int</type>
                    <name>plr</name>
                    <desc>Nummer des Spielers, bei dem die Nachricht ausgegeben wird. Bei Angabe von NO_OWNER wird die
                        Nachricht für alle Spieler angezeigt.
                    </desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>int</type>
                    <name>offset_x</name>
                    <desc>x-Offset der Nachrichtenposition. Bei globalen Nachrichten ist dies die Viewportmitte. Bei
                        Objektnachrichten ist dies relativ zur Standard-Nachrichtenposition über dem Objekt. Bei
                        Portrait-Nachrichten (portrait!=0) ist das Offset relativ zur oberen, linken Viewportecke.
                    </desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>int</type>
                    <name>offset_y</name>
                    <desc>y-Offset der Nachrichtenposition.</desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>int</type>
                    <name>color</name>
                    <desc>Farbe der Nachricht. Bei 0 Default auf 0xffffff (weiß).</desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>id</type>
                    <name>deco</name>
                    <desc>ID der Objektdefinition, die für Dekoration der Nachricht verwendet wird. Wenn angegeben, wird
                        die Nachricht von einem Rahmen umgeben. Nur gültig bei angegebenem Portrait.
                    </desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>string</type>
                    <name>portrait</name>
                    <desc>Bildspezifikation für ein Bild links neben der Nachricht im Dekorationsrahmen.</desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>int</type>
                    <name>flags</name>
                    <desc>Bitmaske zusätzlicher Optionen. Mögliche Werte:
                        <table activateBitmask="false" bitmaskName="">
                            <rowh>
                                <col>Bit</col>
                                <col>Konstante</col>
                                <col>Beschreibung</col>
                            </rowh>
                            <row>
                                <col>0</col>
                                <col>MSG_NoBreak</col>
                                <col>Wenn gesetzt, werden keine automatischen Zeilenumbruch bei langen Nachrichten
                                    eingefügt.
                                </col>
                            </row>
                            <row>
                                <col>1</col>
                                <col>MSG_Bottom</col>
                                <col>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das
                                    Nachrichtenoffset gibt die Verschiebung zur unteren Bildschirmkante anstatt zur
                                    oberen Bildschirmkante an. Für nicht-Portraitnachrichten setzt das Flag die
                                    Nachricht etwas tiefer.
                                </col>
                            </row>
                            <row>
                                <col>2</col>
                                <col>MSG_Multiple</col>
                                <col>Wenn gesetzt, werden vorherige Nachrichten des gleichen Typs nicht gelöscht.</col>
                            </row>
                            <row>
                                <col>3</col>
                                <col>MSG_Top</col>
                                <col>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das
                                    Nachrichtenoffset gibt die Verschiebung zur oberen Bildschirmkante an. Für
                                    nicht-Portraitnachrichten setzt das Flag die Nachricht etwas höher.
                                </col>
                            </row>
                            <row>
                                <col>4</col>
                                <col>MSG_Left</col>
                                <col>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das
                                    Nachrichtenoffset gibt die Verschiebung zur linken Bildschirmkante an. Für
                                    nicht-Portraitnachrichten setzt das Flag die Nachricht etwas mehr nach links.
                                </col>
                            </row>
                            <row>
                                <col>5</col>
                                <col>MSG_Right</col>
                                <col>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das
                                    Nachrichtenoffset gibt die Verschiebung zur rechten Bildschirmkante an. Für
                                    nicht-Portraitnachrichten setzt das Flag die Nachricht etwas mehr nach rechts.
                                </col>
                            </row>
                            <row>
                                <col>6</col>
                                <col>MSG_HCenter</col>
                                <col>Nur globale Nachrichten. Die Nachricht wird auf mittlerer Bildschirmbreite
                                    angezeigt.
                                </col>
                            </row>
                            <row>
                                <col>7</col>
                                <col>MSG_VCenter</col>
                                <col>Nur globale Nachrichten. Die Nachricht wird auf mittlerer Bildschirmhöhe
                                    angezeigt.
                                </col>
                            </row>
                            <row>
                                <col>8</col>
                                <col>MSG_DropSpeech</col>
                                <col>Die Nachricht wird beim ersten Vorkommen des Zeichens '$' abgeschnitten.</col>
                            </row>
                            <row>
                                <col>9</col>
                                <col>MSG_WidthRel</col>
                                <col>iHSize gibt die Breite des Textes in Prozent zur relativen Größe des Viewports an.
                                    Nur bei globalen Nachrichten und Spielernachrichten.
                                </col>
                            </row>
                            <row>
                                <col>10</col>
                                <col>MSG_XRel</col>
                                <col>offset_x gibt das X-Offset des Textes in Prozent zur relativen Größe des Viewports
                                    an. Nur bei globalen Nachrichten und Spielernachrichten. Empfohlene Werte: -50 bis
                                    +50.
                                </col>
                            </row>
                            <row>
                                <col>11</col>
                                <col>MSG_YRel</col>
                                <col>offset_y gibt das y-Offset des Textes in Prozent zur relativen Größe des Viewports
                                    an. Nur bei globalen Nachrichten und Spielernachrichten. Empfohlene Werte: -70 bis
                                    +25.
                                </col>
                            </row>
                        </table>
                    </desc>
                </param>
                <param isReference="false" isOptional="true">
                    <type>int</type>
                    <name>iHSize</name>
                    <desc>Breite des Textes in Pixeln.</desc>
                </param>
            </params>
        </syntax>
        <desc>Gibt eine Nachricht aus.</desc>
        <remark>Diese Funktion vereinigt die Funktionialitäten von <funcLink>Message</funcLink>, <funcLink>PlrMessage
        </funcLink> und <funcLink>PlayerMessage</funcLink> und bietet zusätzliche Optionen an. Um in der Zukunft weitere
            Parameter einfügen zu können ohne eine neue Funktion zu erschaffen, enthält sie bewusst keine zusätzlichen
            Format-Parameter. Diese können über die Funktion <funcLink>Format</funcLink> erreicht werden.
        </remark>
        <remark>Es gelten die üblichen Nachrichtenformatierungen. Beginnt die Nachricht mit einem "@", so wird die
            Nachricht dauerhaft angezeigt bis sie durch eine andere ersetzt wird. Das Zeichen "|" steht für einen
            Zeilenumbruch. Es können Nachrichtenformatierungen mit den Tags &lt;i&gt; (kursiv) und &lt;c&gt; (farbig)
            genutzt werden.
        </remark>
        <remark>Nachrichten werden grundsätzlich angezeigt, bis eine von der Nachrichtenlänge abhängige Zeit vergangen
            ist oder sie durch eine zweite Nachricht gleicher Klasse ersetzt werden. Eine globale Nachricht (d.h. obj=0)
            ersetzt alle anderen globalen Nachrichten, und eine Objektnachricht (obj!=0) ersetzt alle anderen
            Objektnachrichten. Um mehrere Nachrichten gleicher Klasse anzuzeigen, sollte das Flag MSG_Multiple verwendet
            werden.
        </remark>
        <examples>
            <example>
                <code>CustomMessage("This is &lt;i&gt;madness&lt;/i&gt;!");</code>
                <text>Gibt die Nachricht "This is madness!" nur für Spieler 0 aus, wobei das Wort "madness" in kursiver
                    Schrift angezeigt wird.
                </text>
            </example>
            <example>
                <code>CustomMessage("&lt;c ffff00&gt;Tonki:&lt;/c&gt; Hello, world", 0, NO_OWNER, 100,100, 0, MD69,
                    "Portrait:CLNK::00ff00::1);
                </code>
                <text>Gibt eine Nachricht mit Dekorahmen aus. Der Name Tonki ist gelb eingefärbt. Links von der
                    Nachricht wird ein grünes Clonk-Portrait angezeigt. Es muss die Dekorationsdefinition MD69 geladen
                    sein.
                </text>
            </example>
        </examples>
        <related>
            <funcLink>Message</funcLink>
            <funcLink>PlayerMessage</funcLink>
            <funcLink>PlrMessage</funcLink>
            <funcLink>AddMessage</funcLink>
        </related>
    </func>
    <author>Sven2</author>
    <date>2008-07</date>
</clonkDoc>
