<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="../../../clonk.xsl"?>
<clonkDoc xmlns="https://clonkspot.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://clonkspot.org ../../../clonk.xsd" xml:lang="de">
  <func isAsync="false">
    <title>SetGraphics</title>
    <category>Objekte/Darstellung</category>
    <versions><version>4.9.1.0 GWE</version><extversion>4.9.5.0 CE</extversion></versions>
    <syntax>
      <rtype isReference="false">bool</rtype>
      <params>
        <param isReference="false" isOptional="true"><type>string</type><name>szGfxName</name><desc>Name der neu zu setzenden Grafik. Bei 0 wird die Standardgrafik (Graphics.png bzw. bmp) gesetzt.</desc></param>
        <param isReference="false" isOptional="true"><type>object</type><name>pObj</name><desc>Objekt, dessen Grafik geändert werden soll. 0 bei lokalem Aufruf.</desc></param>
        <param isReference="false" isOptional="true"><type>id</type><name>idSrcDef</name><desc>Definition, von der die Grafik entnommen werden soll. Wenn nicht angegeben, gilt die Definition des Objekts, dessen Grafik geändert wird. Wenn nicht angegeben für iOverlay!=0, wird das entsprechende Overlay entfernt.</desc></param>
        <param isReference="false" isOptional="true"><type>int</type><name>iOverlay</name><desc>Index der zu setzenden Overlaygrafik. Muss wenn angegeben größer 0 sein, und fügt dem Objekt eine Grafik mit dem gegebenen Index hinzu, bzw. ändert sie wenn eine Grafik mit dem gegebenen Overlayindex schon existiert. Overlays mit größerem Index werden stets über denen mit kleinerem Index gezeichnet. Wenn ein Objekt nur eine Overlaygrafik hat, kann die symbolische Konstante GFX_Overlay (=1) verwendet werden.</desc></param>
        <param isReference="false" isOptional="true"><type>int</type><name>iOverlayMode</name><desc>
			Nur beachtet bei angegebenem iOverlay: Gibt an, wie das Overlay gezeichnet wird. Folgende Konstanten sind möglich:
			<table activateBitmask="false" bitmaskName="">
                <rowh><col>Konstante</col><col>Wert</col><col>Effekt</col></rowh>
                <row><col>GFXOV_MODE_None</col><col>0</col><col>Ungültig: Nicht benutzen</col></row>
                <row><col>GFXOV_MODE_Base</col><col>1</col><col>Die Basisgrafik der angegebenen Definition, das heißt das Zielrechteck (0,0,Width,Height,OffsetX,OffsetY), wird an der Objektposition über die Grafik gelegt.</col></row>
                <row><col>GFXOV_MODE_Action</col><col>2</col><col>Die Aktivität der angegebenen Objektdefinition. Ab CR.</col></row>
                <row><col>GFXOV_MODE_Picture</col><col>3</col><col>Hat nur Auswirkung, wenn das Objekt im Inventar eines Clonks oder in einem Menü (z.B. Aktivieren in Gebäuden) auftaucht: Das Picture-Rechteck der angegebenen Definition wird über das Repräsentativbild des Objekts gezeichnet. Hiermit können zum Beispiel Zauberer auf Steine oder Zaubersymbole auf Schriftrollen gedruckt werden.</col></row>
                <row><col>GFXOV_MODE_IngamePicture</col><col>4</col><col>Legt die Picture-Grafik der Quelldefinition über das Shape des Zielobjektes. Ab CR.</col></row>
                <row><col>GFXOV_MODE_Object</col><col>5</col><col>Legt die aktuelle Objektgrafik inklusive aller Overlays von pOverlayObject über das Objekt. Achtung: Ein Objekt darf sich nicht rekursiv über sich selbst als Overlay legen. Ab CR.</col></row>
                <row><col>GFXOV_MODE_ExtraGraphics</col><col>6</col><col>Benutzt die angegebene Grafik als Quellgrafik, um das Objekt erneut zu zeichnen. Die Quellkoordinaten sind die gleichen wie die, die auch beim Zeichnen von pObj verwendet wurden. Ab CR.</col></row>
            </table>
		</desc></param>
        <param isReference="false" isOptional="true"><type>string</type><name>szAction</name><desc>Nur für iOverlayMode==GFXOV_MODE_Action: Aktivität in der Definition idSrcDef, dessen Grafik über das Zielobjekt gelegt werden soll. Diese Aktivität muss in der <emLink href="definition/actmap.html">ActMap.txt</emLink> der Quelldefinition definiert sein. Achtung: Die Länge dieser Animation sollte 1 sein; bewegte Animtionen sind noch nicht möglich. Ab CR.</desc></param>
        <param isReference="false" isOptional="true"><type>int</type><name>dwBlitMode</name><desc>Blitmodus der überlegten Grafik (z.B. additiv). Siehe <funcLink>SetObjectBlitMode</funcLink></desc></param>
        <param isReference="false" isOptional="true"><type>object</type><name>pOvelayObject</name><desc>Nur für iOverlayMode==GFXOV_MODE_Object: Objekt, dessen Grafik über das Zielobjekt gelegt werden soll. Ab CR.</desc></param>
      </params>
    </syntax>
    <desc>Ändert die Grafik eines Objekts. Diese beeinflusst die Darstellung des betreffenden Objekts überall im Spiel: In der Landschaft, im Menü oder auf Maussteuerungssymbolen.</desc>
    <remark>Es wird bei iOverlay=0 nur die Grafik eines Objekts geändert. Der Effekt entspricht dem Ersetzen der Graphics.bmp/-.png/Overlay.png in der <emLink href="definition/index.html">Definition</emLink>; Quellangaben aus der <emLink href="definition/actmap.html">ActMap.txt</emLink> oder <emLink href="definition/defcore.html">DefCore.txt</emLink> werden dadurch nicht beeinflusst; diese Koordinaten sollten also in der neuen Grafik auf sinnvolle Positionen verweisen (Das gilt auch für SolidMasks!).</remark>
    <examples>
      <example>
        <code>SetGraphics(0, <funcLink>FindObject</funcLink>(ROCK), GOLD);</code>
        <text>Gibt einem zufälligen Stein aus der Landschaft die Grafik des Goldes.</text>
      </example>
      <example>
        <code>SetGraphics("Armored", <funcLink>FindObject</funcLink>(KNIG));</code>
        <text>Gibt dem zuletzt erstellten Ritter im Spiel das Aussehen eines rüstungstragenden Ritters. Dazu werden die Dateien GraphicsArmored.png und OverlayArmored.png aus der Ritter-Gruppendatei für die Darstellung verwendet.</text>
      </example>
      <example>
        <code>var obj; <funcLink>while</funcLink> (obj = <funcLink>FindObject</funcLink>(0, 0,0,0,0, 0, 0,0, 0, obj)) SetGraphics(0, obj);</code>
        <text>Gibt allen Objekten im Spiel ihre Ursprungsgrafiken zurück.</text>
      </example>
      
<example><code>SetGraphics(0, <funcLink>this</funcLink>(), CLNK, GFX_Overlay, GFXOV_MODE_Picture);
<funcLink>SetObjDrawTransform</funcLink>(800,0,0, 0,800,0, <funcLink>this</funcLink>(), GFX_Overlay);</code>
<text>Objektscript: Das aufrufende Objekt bekommt ein verkleinertes Clonk-Bild auf die Picture-Grafik gedruckt.</text></example>

<example><code>SetGraphics(0, <funcLink>FindObject</funcLink>(KNIG), SHIA, GFX_Overlay, GFXOV_MODE_Base, 0, GFX_BLIT_Additive);</code>
<text>Es wird bei irgendeinem Ritter ein Schild auf die Grafik gesetzt, und additiv gezeichnet.</text></example>

    </examples>
    <related>
      <emLink href="definition/index.html#Graphicsex">Objektdefinitionen (C4D)</emLink>
      <funcLink>SetPicture</funcLink>
      <funcLink>SetObjDrawTransform</funcLink>
      <funcLink>SetObjectBlitMode</funcLink>
    </related>
  </func>
  <author>Sven2</author><date>2005-03</date>
</clonkDoc>
